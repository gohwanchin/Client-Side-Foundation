<form [formGroup]="form" (ngSubmit)="processForm()">
    <div>
        <label for="name">Name:</label>
        <input type="text" name="name" id="name" formControlName="name" [ngClass]="{'red-border':hasError('name')}">
        <span *ngIf="hasError('name')" class="notice">Please enter your name</span>
    </div>
    <div>
        <label for="email">Email:</label>
        <input type="text" name="email" id="email" formControlName="email" [ngClass]="{'red-border':hasError('email')}">
        <span *ngIf="hasError('email')" class="notice">Please enter your email</span>
    </div>
    <div>
        <ng-content></ng-content>
    </div>
    <table>
        <thead>
            <tr>
                <th>Todos</th>
                <th>Priority</th>
                <button type="button" style="margin-left: 10px;" (click)="addTodo()">Add</button>
            </tr>
        </thead>
        <tbody formArrayName="todos">
            <tr *ngFor="let t of todoArrayCtrl.controls; let i=index" [formGroup]="t">
                <td>
                    <input type="text" formControlName="task">
                </td>
                <td>
                    <select formControlName="priority">
                        <option value="1"></option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                    </select>
                </td>
                <td>
                    <button (click)="removeTask(i)">X</button>
                </td>
            </tr>
        </tbody>
    </table>
</form>